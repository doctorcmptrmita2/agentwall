# ğŸ§ª AgentWall Real Scenario Test Report

**Date:** 2026-01-06 14:15:33
**Target:** https://api.agentwall.io
**Model:** gpt-3.5-turbo
**Total Cost:** $0.000507

---

## ğŸ“Š Summary

| Metric | Value |
|--------|-------|
| Total Tests | 10 |
| Passed | 10 âœ… |
| Failed | 0 âŒ |
| Success Rate | 100.0% |
| Total Cost | $0.000507 |

---

## ğŸ” Feature Verification

| Feature | Status | Notes |
|---------|--------|-------|
| Health Check | âœ… PASS | 733ms |
| Basic Proxy | âœ… PASS | 519ms |
| DLP - API Key Detection | âœ… PASS | 940ms |
| DLP - Credit Card Detection | âœ… PASS | 1055ms |
| DLP - PII Detection | âœ… PASS | 920ms |
| Run Tracking - Multi-Step | âœ… PASS | 0ms |
| Loop Detection - Exact Match | âœ… PASS | 0ms |
| Loop Detection - Similar | âœ… PASS | 0ms |
| Cost Tracking | âœ… PASS | 841ms |
| Streaming SSE | âœ… PASS | 579ms |

---

## ğŸ“ Detailed Results

### âœ… Health Check

- **Duration:** 733.20ms
- **Cost:** $0.000000

**Details:**
```json
{
  "status": 200
}
```

### âœ… Basic Proxy

- **Duration:** 518.77ms
- **Cost:** $0.000015

**Details:**
```json
{
  "response": "AgentWall works!",
  "agentwall_metadata": {
    "run_id": "4ef6ba03-c32f-40df-9f63-3a9e5c4f0a9f",
    "step": 1,
    "overhead_ms": 352.99,
    "cost_usd": 1.45e-05,
    "total_run_cost": 1.45e-05,
    "total_run_steps": 1
  }
}
```

### âœ… DLP - API Key Detection

- **Duration:** 940.48ms
- **Cost:** $0.000088

**Details:**
```json
{
  "fake_key_sent": "sk-proj-FAKE12345678...",
  "key_in_response": false,
  "status": 200
}
```

### âœ… DLP - Credit Card Detection

- **Duration:** 1054.50ms
- **Cost:** $0.000073

**Details:**
```json
{
  "fake_cc_sent": "4532****0366",
  "cc_in_response": false,
  "status": 200
}
```

### âœ… DLP - PII Detection

- **Duration:** 920.30ms
- **Cost:** $0.000050

**Details:**
```json
{
  "email_sent": "john.doe@secretcompany.com",
  "phone_sent": "555-123-4567",
  "email_in_response": false,
  "phone_in_response": false,
  "status": 200
}
```

### âœ… Run Tracking - Multi-Step

- **Duration:** 0.00ms
- **Cost:** $0.000058

**Details:**
```json
{
  "run_id": "test-run-172d48a5-8da6-4f92-9625-710c0335b206",
  "steps": [
    {
      "step": 1,
      "run_id": "test-run-172d48a5-8da6-4f92-9625-710c0335b206",
      "cost": 1.95e-05,
      "total_run_cost": 1.95e-05
    },
    {
      "step": 2,
      "run_id": "test-run-172d48a5-8da6-4f92-9625-710c0335b206",
      "cost": 1.95e-05,
      "total_run_cost": 3.9e-05
    },
    {
      "step": 3,
      "run_id": "test-run-172d48a5-8da6-4f92-9625-710c0335b206",
      "cost": 1.95e-05,
      "total_run_cost": 5.85e-05
    }
  ],
  "step_sequence_correct": true
}
```

### âœ… Loop Detection - Exact Match

- **Duration:** 0.00ms
- **Cost:** $0.000017

**Details:**
```json
{
  "run_id": "loop-test-da84c83c-9e6e-47d7-b485-c187251fe39d",
  "prompt_repeated": 5,
  "blocked": true,
  "block_step": 2,
  "has_warning": false,
  "responses": [
    {
      "step": 1,
      "warning": null
    }
  ]
}
```

### âœ… Loop Detection - Similar

- **Duration:** 0.00ms
- **Cost:** $0.000053

**Details:**
```json
{
  "run_id": "similar-loop-c54feacc-6532-4fd7-b5e4-3e564b97c966",
  "prompts_sent": 4,
  "blocked": false,
  "has_warning": false
}
```

### âœ… Cost Tracking

- **Duration:** 840.70ms
- **Cost:** $0.000051

**Details:**
```json
{
  "cost_usd": 5.1e-05,
  "tokens": 44,
  "cost_per_token": 1.159090909090909e-06
}
```

### âœ… Streaming SSE

- **Duration:** 578.78ms
- **Cost:** $0.000100

**Details:**
```json
{
  "status": 200,
  "chunk_count": 10,
  "has_done_marker": true,
  "has_run_id_header": true
}
```

---

## âœ… Conclusion

**All tests passed!** AgentWall is working correctly.

---

*Generated by AgentWall Test Suite*

*"Guard the Agent, Save the Budget"* ğŸ›¡ï¸