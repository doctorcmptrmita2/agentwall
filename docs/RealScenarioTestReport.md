# ğŸ§ª AgentWall Real Scenario Test Report

**Date:** 2026-01-06 14:12:14
**Target:** http://localhost:8000
**Model:** gpt-3.5-turbo
**Total Cost:** $0.000536

---

## ğŸ“Š Summary

| Metric | Value |
|--------|-------|
| Total Tests | 10 |
| Passed | 10 âœ… |
| Failed | 0 âŒ |
| Success Rate | 100.0% |
| Total Cost | $0.000536 |

---

## ğŸ” Feature Verification

| Feature | Status | Notes |
|---------|--------|-------|
| Health Check | âœ… PASS | 678ms |
| Basic Proxy | âœ… PASS | 1402ms |
| DLP - API Key Detection | âœ… PASS | 1084ms |
| DLP - Credit Card Detection | âœ… PASS | 1127ms |
| DLP - PII Detection | âœ… PASS | 1212ms |
| Run Tracking - Multi-Step | âœ… PASS | 0ms |
| Loop Detection - Exact Match | âœ… PASS | 0ms |
| Loop Detection - Similar | âœ… PASS | 0ms |
| Cost Tracking | âœ… PASS | 1592ms |
| Streaming SSE | âœ… PASS | 943ms |

---

## ğŸ“ Detailed Results

### âœ… Health Check

- **Duration:** 678.46ms
- **Cost:** $0.000000

**Details:**
```json
{
  "status": 200
}
```

### âœ… Basic Proxy

- **Duration:** 1402.40ms
- **Cost:** $0.000015

**Details:**
```json
{
  "response": "AgentWall works!",
  "agentwall_metadata": {
    "run_id": "545aea56-68c3-4f40-ba54-045be8b1e413",
    "step": 1,
    "overhead_ms": 1125.1,
    "cost_usd": 1.45e-05,
    "total_run_cost": 1.45e-05,
    "total_run_steps": 1
  }
}
```

### âœ… DLP - API Key Detection

- **Duration:** 1083.94ms
- **Cost:** $0.000084

**Details:**
```json
{
  "fake_key_sent": "sk-proj-FAKE12345678...",
  "key_in_response": false,
  "status": 200
}
```

### âœ… DLP - Credit Card Detection

- **Duration:** 1127.17ms
- **Cost:** $0.000073

**Details:**
```json
{
  "fake_cc_sent": "4532****0366",
  "cc_in_response": false,
  "status": 200
}
```

### âœ… DLP - PII Detection

- **Duration:** 1212.06ms
- **Cost:** $0.000074

**Details:**
```json
{
  "email_sent": "john.doe@secretcompany.com",
  "phone_sent": "555-123-4567",
  "email_in_response": false,
  "phone_in_response": false,
  "status": 200
}
```

### âœ… Run Tracking - Multi-Step

- **Duration:** 0.00ms
- **Cost:** $0.000060

**Details:**
```json
{
  "run_id": "test-run-5d353d55-b427-4f7f-9eba-1c688a346ba9",
  "steps": [
    {
      "step": 1,
      "run_id": "test-run-5d353d55-b427-4f7f-9eba-1c688a346ba9",
      "cost": 2.1e-05,
      "total_run_cost": 2.1e-05
    },
    {
      "step": 2,
      "run_id": "test-run-5d353d55-b427-4f7f-9eba-1c688a346ba9",
      "cost": 1.95e-05,
      "total_run_cost": 4.05e-05
    },
    {
      "step": 3,
      "run_id": "test-run-5d353d55-b427-4f7f-9eba-1c688a346ba9",
      "cost": 1.95e-05,
      "total_run_cost": 6e-05
    }
  ],
  "step_sequence_correct": true
}
```

### âœ… Loop Detection - Exact Match

- **Duration:** 0.00ms
- **Cost:** $0.000017

**Details:**
```json
{
  "run_id": "loop-test-2015ba5b-079e-4010-a818-6ceacb30ced7",
  "prompt_repeated": 5,
  "blocked": true,
  "block_step": 2,
  "has_warning": false,
  "responses": [
    {
      "step": 1,
      "warning": null
    }
  ]
}
```

### âœ… Loop Detection - Similar

- **Duration:** 0.00ms
- **Cost:** $0.000062

**Details:**
```json
{
  "run_id": "similar-loop-2ff72af6-d2d5-4230-b8f7-ef3c9d407f8a",
  "prompts_sent": 4,
  "blocked": false,
  "has_warning": false
}
```

### âœ… Cost Tracking

- **Duration:** 1592.11ms
- **Cost:** $0.000051

**Details:**
```json
{
  "cost_usd": 5.1e-05,
  "tokens": 44,
  "cost_per_token": 1.159090909090909e-06
}
```

### âœ… Streaming SSE

- **Duration:** 942.63ms
- **Cost:** $0.000100

**Details:**
```json
{
  "status": 200,
  "chunk_count": 10,
  "has_done_marker": true,
  "has_run_id_header": true
}
```

---

## âœ… Conclusion

**All tests passed!** AgentWall is working correctly.

---

*Generated by AgentWall Test Suite*

*"Guard the Agent, Save the Budget"* ğŸ›¡ï¸